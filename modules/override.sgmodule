#!name=Override
#!desc=The Module for Overriding iRingo.
#!arguments=GeoCountryCode:JP,CountryCode:JP,GeoManifest.default:CN,GeoManifest.watchOS:JP,Dispatcher:AutoNavi,Directions:AutoNavi,RAP:Apple,LocationShift:AUTO,TileSet.Map:CN,TileSet.Satellite:XX,TileSet.Traffic:CN,TileSet.POI:CN,TileSet.Flyover:XX,TileSet.Munin:XX

[Script]
location.pep.gcc.response = type=http-response, pattern=^https?:\/\/gspe1-ssl\.ls\.apple\.com\/pep\/gcc, requires-body=1, engine=webview, script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/GeoServices.response.js, argument=PEP.GCC={{{GeoCountryCode}}}
siri.bag.request = type=http-request, pattern=^https?:\/\/api(.*)\.smoot\.apple\.(com|cn)\/bag, requires-body=0, engine=webview, script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/Siri.request.js, argument=CountryCode={{{CountryCode}}}
siri.bag.response = type=http-response, pattern=^https?:\/\/api(.*)\.smoot\.apple\.(com|cn)\/bag, requires-body=1, engine=webview, script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/Siri.response.js, argument=CountryCode={{{CountryCode}}}
siri.search.request = type=http-request, pattern=^https?:\/\/api(.*)\.smoot\.apple\.(com|cn)\/search, requires-body=0, engine=webview, script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/Siri.request.js, argument=CountryCode={{{CountryCode}}}
siri.search.response = type=http-response, pattern=^https?:\/\/api(.*)\.smoot\.apple\.(com|cn)\/search, requires-body=1, engine=webview, script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/Siri.response.js, argument=CountryCode={{{CountryCode}}}
siri.card.request = type=http-request, pattern=^https?:\/\/api(.*)\.smoot\.apple\.(com|cn)\/card, requires-body=0, engine=webview, script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/Siri.request.js, argument=CountryCode={{{CountryCode}}}
siri.card.response = type=http-response, pattern=^https?:\/\/api(.*)\.smoot\.apple\.(com|cn)\/card, requires-body=1, engine=webview, script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/Siri.response.js, argument=CountryCode={{{CountryCode}}}
siri.flight.request = type=http-request, pattern=^https?:\/\/api(.*)\.smoot\.apple\.(com|cn)\/flight, requires-body=0, engine=webview, script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/Siri.request.js, argument=CountryCode={{{CountryCode}}}
maps.config.defaults.request = type=http-request, pattern=^https?:\/\/configuration\.ls\.apple\.com\/config\/defaults, requires-body=0, script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/GeoServices.request.js, argument=
maps.config.defaults.response = type=http-response, pattern=^https?:\/\/configuration\.ls\.apple\.com\/config\/defaults, requires-body=1, engine=webview, script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/GeoServices.response.js, argument=
maps.config.announcements.request = type=http-request, pattern=^https?:\/\/gspe35-ssl\.ls\.apple\.(com|cn)\/config\/announcements, requires-body=0, script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/GeoServices.request.js, argument=
maps.config.announcements.response = type=http-response, pattern=^https?:\/\/gspe35-ssl\.ls\.apple\.(com|cn)\/config\/announcements, requires-body=1, binary-body-mode=1, engine=webview, script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/GeoServices.response.js, argument=
maps.geo_manifest.dynamic.config.request = type=http-request, pattern=^https?:\/\/gspe35-ssl\.ls\.apple\.(com|cn)\/geo_manifest\/dynamic\/config, requires-body=0, script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/GeoServices.request.js, argument=GeoManifest.Dynamic.Config.CountryCode.default={{{GeoManifest.default}}}&GeoManifest.Dynamic.Config.CountryCode.watchOS={{{GeoManifest.watchOS}}}
maps.geo_manifest.dynamic.config.response = type=http-response, pattern=^https?:\/\/gspe35-ssl\.ls\.apple\.(com|cn)\/geo_manifest\/dynamic\/config, requires-body=1, binary-body-mode=1, engine=webview, script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/GeoServices.response.js, argument=GeoManifest.Dynamic.Config.CountryCode.default={{{GeoManifest.default}}}&UrlInfoSet.Dispatcher={{{Dispatcher}}}&UrlInfoSet.Directions={{{Directions}}}&UrlInfoSet.RAP={{{RAP}}}&UrlInfoSet.LocationShift={{{LocationShift}}}&TileSet.Satellite={{{TileSet.Satellite}}}&TileSet.Traffic={{{TileSet.Traffic}}}&TileSet.POI={{{TileSet.POI}}}&TileSet.Flyover={{{TileSet.Flyover}}}&TileSet.Munin={{{TileSet.Munin}}}

[MITM]
hostname = %APPEND% configuration.ls.apple.com, gspe35-ssl.ls.apple.com, gspe1-ssl.ls.apple.com, api*.smoot.apple.com, api*.smoot.apple.cn

#!name=Override
#!desc=The Module for Overriding iRingo.
#!arguments=GeoCountryCode:JP,CountryCode:JP,GeoManifest.default:CN,GeoManifest.watchOS:JP,Dispatcher:AutoNavi,Directions:AutoNavi,RAP:Apple,LocationShift:AUTO,TileSet.Map:CN,TileSet.Satellite:XX,TileSet.Traffic:CN,TileSet.POI:CN,TileSet.Flyover:XX,TileSet.Munin:XX

[Script]
location = type=http-response, pattern=^https?:\/\/gspe1-ssl\.ls\.apple\.com\/pep\/gcc, requires-body=1, engine=webview, script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/GeoServices.response.js, argument=PEP.GCC={{{GeoCountryCode}}}
siri.request = type=http-request, pattern=^https?:\/\/api(.*)\.smoot\.apple\.(com|cn)\/(bag|search|flight), requires-body=0, engine=webview, script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/Siri.request.js, argument=CountryCode={{{CountryCode}}}
siri.response = type=http-response, pattern=^https?:\/\/api(.*)\.smoot\.apple\.(com|cn)\/(bag|search), requires-body=1, engine=webview, script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/Siri.response.js, argument=CountryCode={{{CountryCode}}}
maps.request = type=http-request, pattern=^https?:\/\/(configuration|gspe35-ssl)\.ls\.apple\.com\/(config\/(defaults|announcements)|geo_manifest\/dynamic\/config), requires-body=0, script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/GeoServices.request.js, argument=GeoManifest.Dynamic.Config.CountryCode.default={{{GeoManifest.default}}}&GeoManifest.Dynamic.Config.CountryCode.watchOS={{{GeoManifest.watchOS}}}
maps.response = type=http-response, pattern=^https?:\/\/(configuration|gspe35-ssl)\.ls\.apple\.com\/(config\/(defaults|announcements)|geo_manifest\/dynamic\/config), requires-body=1, binary-body-mode=1, engine=webview, script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/GeoServices.response.js, argument=GeoManifest.Dynamic.Config.CountryCode.default={{{GeoManifest.default}}}&UrlInfoSet.Dispatcher={{{Dispatcher}}}&UrlInfoSet.Directions={{{Directions}}}&UrlInfoSet.RAP={{{RAP}}}&UrlInfoSet.LocationShift={{{LocationShift}}}&TileSet.Satellite={{{TileSet.Satellite}}}&TileSet.Traffic={{{TileSet.Traffic}}}&TileSet.POI={{{TileSet.POI}}}&TileSet.Flyover={{{TileSet.Flyover}}}&TileSet.Munin={{{TileSet.Munin}}}

[MITM]
hostname = %APPEND% configuration.ls.apple.com, gspe1-ssl.ls.apple.com, gspe35-ssl.ls.apple.com, api*.smoot.apple.com, api*.smoot.apple.cn
